<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BloodTestOCR</title>
    <!-- Jquey load frist-->
    <script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <!-- bootstrap.js below is needed if you wish to zoom and view file content 
     in a larger detailed modal dialog -->
    <!-- https://unpkg.com/vue/dist/vue.js -->
    <script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="http://static.runoob.com/assets/vue/1.0.11/vue.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="contianer">
            <form id="data" class="form-signin" role="form" method="post" action="login">
                <div class="form-group">
                    <label class="col-sm-2 control-label">Account</label>
                    <input type="text" class="form-control" id="username" placeholder="Username">
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Password</label>
                    <input type="password" class="form-control" id="password" placeholder="Password">
                </div>
                <button id="submit" type="submit" class="btn btn-default">Submit</button>
            </form>
        </div>
    </div>
    <script>
        
       $(document).on('submit', "form#data", function(e) {
            var username = $('#username').val();
            var password = $('#password').val();
            console.log(username);
            var form = JSON.stringify({"username": username, "password": password});
            // var form = new FromData({"username": username, "password": password});
            // var form = new FormData(this);
            console.log(form);
            e.preventDefault();
            $.ajax({
                url: $(this).attr('action'),
                type: 'POST',
                data: form,
                dataType: 'json',
                contentType: 'application/json;charset=UTF-8',
                success: function(data) {
                    if (data["code"] == -1) {
                        alert("wrong account or password");
                    }
                    else {
                        alert("success");
                    }
                    
                }
            });
       });
       
</script>
</body>

</html>